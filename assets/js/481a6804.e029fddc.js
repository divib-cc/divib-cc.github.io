"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[595],{9934:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>d,metadata:()=>l,toc:()=>i});const l=JSON.parse('{"id":"CABAL/CABAL_EP8_Docker","title":"CABAL_EP8_Docker","description":"1. \u5b89\u88c5 docker \u548c git","source":"@site/docs/CABAL/CABAL_EP8_Docker.md","sourceDirName":"CABAL","slug":"/CABAL/CABAL_EP8_Docker","permalink":"/docs/CABAL/CABAL_EP8_Docker","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/CABAL/CABAL_EP8_Docker.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"cabalmain_1288_\u5730\u5740","permalink":"/docs/CABAL/CABAL_EP2_1288\u4e3b\u7a0b\u5e8f\u5730\u5740"},"next":{"title":"CABAL\u6570\u636e\u5e93\u64cd\u4f5c\u4ee3\u7801","permalink":"/docs/CABAL/CABAL\u6570\u636e\u5e93\u64cd\u4f5c\u4ee3\u7801"}}');var r=s(4848),c=s(8453);const d={},a=void 0,o={},i=[{value:"1. \u5b89\u88c5 docker \u548c git",id:"1-\u5b89\u88c5-docker-\u548c-git",level:3},{value:"2. \u83b7\u53d6\u9879\u76ee",id:"2-\u83b7\u53d6\u9879\u76ee",level:3},{value:"3. \u8fdb\u5165\u76ee\u5f55",id:"3-\u8fdb\u5165\u76ee\u5f55",level:3},{value:"4. \u590d\u5236.env.example \u4e3a.env",id:"4-\u590d\u5236envexample-\u4e3aenv",level:3},{value:"5. \u67e5\u770b\u83b7\u53d6\u670d\u52a1\u5668 IP \u5730\u5740",id:"5-\u67e5\u770b\u83b7\u53d6\u670d\u52a1\u5668-ip-\u5730\u5740",level:3},{value:"6. \u7f16\u8f91 .env \u6587\u4ef6",id:"6-\u7f16\u8f91-env-\u6587\u4ef6",level:3},{value:"7. \u6784\u5efa docker \u5bb9\u5668",id:"7-\u6784\u5efa-docker-\u5bb9\u5668",level:3},{value:"8. \u542f\u52a8 mssql \u6570\u636e\u5e93\u5bb9\u5668",id:"8-\u542f\u52a8-mssql-\u6570\u636e\u5e93\u5bb9\u5668",level:3},{value:"9. \u8fd8\u539f\u6570\u636e\u5e93",id:"9-\u8fd8\u539f\u6570\u636e\u5e93",level:3},{value:"10. \u542f\u52a8\u6570\u636e\u5e93\u4ee3\u7406",id:"10-\u542f\u52a8\u6570\u636e\u5e93\u4ee3\u7406",level:3},{value:"11. Up Global Mgr \u670d\u52a1\u5668",id:"11-up-global-mgr-\u670d\u52a1\u5668",level:3},{value:"12. Up \u5176\u4ed6\u670d\u52a1",id:"12-up-\u5176\u4ed6\u670d\u52a1",level:3},{value:"13. \u542f\u52a8\u9891\u9053",id:"13-\u542f\u52a8\u9891\u9053",level:3},{value:"Stop server",id:"stop-server",level:3},{value:"Service status",id:"service-status",level:3},{value:"Service logs",id:"service-logs",level:3}];function t(e){const n={blockquote:"blockquote",code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,c.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"1-\u5b89\u88c5-docker-\u548c-git",children:"1. \u5b89\u88c5 docker \u548c git"}),"\n",(0,r.jsx)(n.blockquote,{children:"\n"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ubuntu/Debian\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"apt update && apt install git docker-compose\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"RedHat/CentOS/Fedora\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"yum update && yum install git docker-compose\n"})}),"\n",(0,r.jsx)(n.h3,{id:"2-\u83b7\u53d6\u9879\u76ee",children:"2. \u83b7\u53d6\u9879\u76ee"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/artem-alekseev/cabal_server.git\n"})}),"\n",(0,r.jsx)(n.h3,{id:"3-\u8fdb\u5165\u76ee\u5f55",children:"3. \u8fdb\u5165\u76ee\u5f55"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cd cabal_server/\n"})}),"\n",(0,r.jsx)(n.h3,{id:"4-\u590d\u5236envexample-\u4e3aenv",children:"4. \u590d\u5236.env.example \u4e3a.env"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"cp .env.example .env\n"})}),"\n",(0,r.jsx)(n.h3,{id:"5-\u67e5\u770b\u83b7\u53d6\u670d\u52a1\u5668-ip-\u5730\u5740",children:"5. \u67e5\u770b\u83b7\u53d6\u670d\u52a1\u5668 IP \u5730\u5740"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"ip addr\n"})}),"\n",(0,r.jsx)(n.h3,{id:"6-\u7f16\u8f91-env-\u6587\u4ef6",children:"6. \u7f16\u8f91 .env \u6587\u4ef6"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"DB_PASSWORD=password_from_db //\u6570\u636e\u5e93\u5bc6\u7801\u4f7f\u7528\u7279\u6b8a\u7b26\u53f7\u3001\u6570\u5b57\u548c\u5927\u5199\u7b26\u53f7\u7684\u5f3a\u5bc6\u7801\r\nCONNECT_IP=192.168.1.1 // \u670d\u52a1\u5668IP\r\nEXP_RATE=100 // \u5347\u7ea7\u7ecf\u9a8c\uff08\u4f8b\u5982 5 \u8868\u793a 5 \u500d\uff09\r\nSEXP_RATE=100 // \u6280\u80fd\u7ecf\u9a8c\r\nCEXP_RATE=100 // \u5236\u9020\u7ecf\u9a8c\r\nDROP_RATE=2 // \u6389\u843d\u7387\uff08\u8d85\u8fc7 5 \u4e0d\u597d\uff09\r\nALZ_RATE=100 // \u91d1\u5e01 \u6389\u843d\u7387\r\nBALZ_RATE=100 // \u91d1\u5e01\u5806 \u6389\u843d\u7387\r\nPEXP_RATE=100 // \u5ba0\u7269\u7ecf\u9a8c\r\nWEXP_RATE=100 // \u6218\u4e89\u7ecf\u9a8c\r\nITEMS_PER_DROP=2 // \u7269\u54c1\u6389\u843d\u6570\u91cf\n"})}),"\n",(0,r.jsx)(n.h3,{id:"7-\u6784\u5efa-docker-\u5bb9\u5668",children:"7. \u6784\u5efa docker \u5bb9\u5668"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose build\n"})}),"\n",(0,r.jsx)(n.h3,{id:"8-\u542f\u52a8-mssql-\u6570\u636e\u5e93\u5bb9\u5668",children:"8. \u542f\u52a8 mssql \u6570\u636e\u5e93\u5bb9\u5668"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose up -d mssql\n"})}),"\n",(0,r.jsx)(n.h3,{id:"9-\u8fd8\u539f\u6570\u636e\u5e93",children:"9. \u8fd8\u539f\u6570\u636e\u5e93"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose exec mssql sh restoredb.sh\n"})}),"\n",(0,r.jsx)(n.h3,{id:"10-\u542f\u52a8\u6570\u636e\u5e93\u4ee3\u7406",children:"10. \u542f\u52a8\u6570\u636e\u5e93\u4ee3\u7406"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose up -d global_db_agent auth_db_agent cash_db_agent event_db_agent pc_bang_db_agent db_agent_01 rock_and_roll_its\n"})}),"\n",(0,r.jsx)(n.h3,{id:"11-up-global-mgr-\u670d\u52a1\u5668",children:"11. Up Global Mgr \u670d\u52a1\u5668"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose up -d global_mgr_svr\n"})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsx)(n.p,{children:"\u7b49\u5f85 30 \u79d2\u5de6\u53f3"}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"12-up-\u5176\u4ed6\u670d\u52a1",children:"12. Up \u5176\u4ed6\u670d\u52a1"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose up -d party_svr_01 chat_node_01 event_mgr_svr login_svr_01 agent_shop_01\n"})}),"\n",(0,r.jsx)(n.h3,{id:"13-\u542f\u52a8\u9891\u9053",children:"13. \u542f\u52a8\u9891\u9053"}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Premium"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose up -d world_svr_01_01\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"War"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose up -d world_svr_01_02\n"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"M War"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose up -d world_svr_01_03 world_svr_01_04 world_svr_01_05 world_svr_01_06 world_svr_01_07\n"})}),"\n",(0,r.jsx)(n.h3,{id:"stop-server",children:"Stop server"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose down\n"})}),"\n",(0,r.jsx)(n.h3,{id:"service-status",children:"Service status"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose ps\n"})}),"\n",(0,r.jsx)(n.h3,{id:"service-logs",children:"Service logs"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose logs container_name\n"})}),"\n",(0,r.jsx)(n.p,{children:"example"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"docker-compose logs global_mgr_svr\n"})})]})}function h(e={}){const{wrapper:n}={...(0,c.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>d,x:()=>a});var l=s(6540);const r={},c=l.createContext(r);function d(e){const n=l.useContext(c);return l.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:d(e.components),l.createElement(c.Provider,{value:n},e.children)}}}]);